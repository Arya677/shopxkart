{% extends "base.html" %}
{% load static %}
{% block main-content %}

<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-content padding-y bg-light" style="min-height: 100vh;">
    {% include "alerts.html" %}
    <div class="container py-4">
        <div class="row">
            {% include "dashboard_sidebar.html" %}

            <main class="col-md-9 col-12">
                <article class="card shadow-sm">
                    <header class="card-header bg-primary text-white">
                        <strong>Edit Your Profile</strong>
                    </header>

                    <div class="card-body" style="max-height: auto;">
                        <!-- Profile Picture Display -->
                        <div class="text-center mb-4">
                            <div class="mx-auto" style="width: 100px; height: 100px; overflow: hidden; border-radius: 50px;">
                                {% if userprofile.profile_picture %}
                                    <img src="{{ userprofile.profile_picture.url }}" alt="Profile Picture"
                                         style="width: 100%; height: 100%; object-fit: cover;">
                                {% else %}
                                    <img src="{% static 'images/default-profile.jpg' %}" alt="Default Profile"
                                         style="width: 100%; height: 100%; object-fit: cover;">
                                {% endif %}
                            </div>
                        </div>

                        <!-- Edit Form -->
                        <form action="{% url 'edit_profile' %}" method="POST" enctype="multipart/form-data" class="px-2">
                            {% csrf_token %}
                            
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="first_name" class="form-label">First Name</label>
                                    {{ user_form.first_name }}
                                </div>
                                <div class="col-md-6">
                                    <label for="last_name" class="form-label">Last Name</label>
                                    {{ user_form.last_name }}
                                </div>

                                <div class="col-md-6">
                                    <label for="phone" class="form-label">Phone Number</label>
                                    {{ user_form.phone_number }}
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Profile Picture</label>
                                    {{ profile_form.profile_picture }}
                                </div>

                                <div class="col-12">
                                    <label class="form-label">Address Line 1</label>
                                    {{ profile_form.address_line_1 }}
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Address Line 2</label>
                                    {{ profile_form.address_line_2 }}
                                </div>

                                <div class="col-md-4">
                                    <label class="form-label">City</label>
                                    {{ profile_form.city }}
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">State</label>
                                    {{ profile_form.state }}
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Country</label>
                                    {{ profile_form.country }}
                                </div>
                            </div>

                            <div class="mt-4">
                                <input type="submit" value="Save Changes" class="btn btn-primary w-100">
                            </div>
                        </form>
                    </div>
                </article>
            </main>
        </div>
    </div>
</section>
<!-- ========================= SECTION CONTENT END// ========================= -->

{% endblock main-content %}
